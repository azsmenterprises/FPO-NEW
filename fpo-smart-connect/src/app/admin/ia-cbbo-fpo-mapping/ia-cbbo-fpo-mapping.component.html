<div id="content">
    <div class="container-fluid">
        <div class="col-lg-12 mb-6">
            <div class="card-header py-2">
                <h5 class="m-0 font-weight-bold text-primary">Implementing Agency (IA) - CBBO - FPO MAPPING</h5>
            </div>
            <div class="card-body table-card mat-elevation-z8">
                <form [formGroup]="mappForm">
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label for="inputEmail4"> SELECT IMPLEMENTING AGENCY (IA) : </label>
                        </div>
                        <div class="form-group col-md-5">
                            <select class="form-control" formControlName='iaName' (change)="gettingCbbo()">
                                <option value="" disabled>--Select--</option>
                                <option [ngValue]="x" *ngFor="let x of getIaData">{{x.iaName}}</option>

                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label for="inputEmail4"> CBBO : </label>
                        </div>
                        <div class="form-group col-md-5">
                            <select class="form-control" formControlName='cbboName'>
                                <option value="" disabled>--Select--</option>
                                <option *ngFor="let y of getCbboData" value="{{y.cbboCode}}:{{y.cbboName}}">
                                    {{y.cbboName}}</option>

                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label for="inputEmail4">Select Financial Year : </label><br>
                            <label for="" style="font-size: 10px;color:red">&nbsp;&nbsp;*Year of Allocation</label>
                        </div>
                        <div class="form-group col-md-5">
                            <select class="form-control" formControlName='year'>
                                <option value="" disabled>--Select--</option>
                                <option value="2020-2021">2020-2021</option>
                                <option value="2021-2022">2021-2022</option>
                                <option value="2022-2023">2022-2023</option>
                                <option value="2023-2024">2023-2024</option>
                                <option value="2024-2025">2024-2025</option>
                                <option value="2025-2026">2025-2026</option>
                                <option value="2026-2027">2026-2027</option>
                                <option value="2027-2028">2027-2028</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label for="inputEmail4"> Select FPO : </label>
                        </div>
                        <div class="form-group col-md-5">
                            <select class="form-control" formControlName='fpoName'>
                                <option value="" disabled>--Select--</option>
                                <option [ngValue]="z" *ngFor="let z of getFpoData">{{z.fpoName | uppercase}}
                                </option>
                                <option value="other">other</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <button type="submit" class="btn btn-primary" (click)="assign()">ASSIGN</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <br>
        <div class="col-lg-12 mb-6">
            <div class="card shadow mb-4">
                <div class="card-header py-1">
                    <!-- <h4 class="m-0 font-weight-bold text-primary">IA-CBBO-FPO MAPPING TABLE</h4> -->
                    <div class="row">
                        <div class="col-md-6">
                            <h5 class="m-0 font-weight-bold text-primary float-left">IA-CBBO-FPO MAPPING TABLE</h5>
                        </div>
                        <div class="col-md-6">
                            <input class="float-right search-box form-control" style="width:250px" matInput
                                (keyup)="applyFilter($event)" placeholder="Search" #input>
                        </div>
                    </div>
                </div>
                <!-- <div class="card-body table-card mat-elevation-z8" [hidden]='IaCbboFpodata?.data.length==0'> -->
                <div class="card-body table-card mat-elevation-z8">
                    <table class="table" mat-table [dataSource]="IaCbboFpodata" matSort>
                        <ng-container matColumnDef="slNo">
                            <th mat-header-cell *matHeaderCellDef>Sl No. </th>
                            <td mat-cell *matCellDef="let map; let i = index;">
                                {{ (paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="year">
                            <th mat-header-cell *matHeaderCellDef>Year</th>
                            <td mat-cell *matCellDef="let map"> {{map?.year}} </td>
                        </ng-container>

                        <ng-container matColumnDef="iaName">
                            <th mat-header-cell *matHeaderCellDef>IA Name</th>
                            <td mat-cell *matCellDef="let map"> {{map?.iaName}} </td>
                        </ng-container>

                        <ng-container matColumnDef="cbboName">
                            <th mat-header-cell *matHeaderCellDef>CBBO Name</th>
                            <td mat-cell *matCellDef="let map"> {{map?.cbboName}} </td>
                        </ng-container>

                        <ng-container matColumnDef="fpoName">
                            <th mat-header-cell *matHeaderCellDef>FPO Name</th>
                            <td mat-cell *matCellDef="let map"> {{map?.fpoName}}</td>
                        </ng-container>

                        <ng-container matColumnDef="delete">
                            <th mat-header-cell *matHeaderCellDef>Delete</th>
                            <td mat-cell *matCellDef="let map"><button class="btn btn-outline-danger" style="float:left"
                                    (click)="deleteRowMaping(map)"><i class="fa fa-trash"
                                        aria-hidden="true"></i></button></td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                    </table>
                    <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 15,20]" [length]="pagelength"
                        showFirstLastButtons></mat-paginator>

                </div>
            </div>
        </div>
    </div>


</div>