<div class="container-fluid">

    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Submitted Demands</h1>
        <!-- <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i
                    class="fas fa-download fa-sm text-white-50"></i> Generate Report</a> -->
    </div>

    <div class="row">
        <div class="col-lg-12 mb-6">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Demand Details</h6>
                </div>
                <div class="card-body table-card mat-elevation-z8">
                    <div class="row">
                        <div class="col-md-3">
                            <label for="">Item Type</label>
                            <select class="form-control" [(ngModel)]='selectedItemType'>
                                <option value="" disabled selected>--Select--</option>
                                <option value="Seed">Seed</option>
                                <option value="Fertilizer">Fertilizer</option>
                                <option value="Insecticides">Insecticides</option>
                                <option value="Custome Hiring">Custome Hiring</option>
                            </select>
                        </div>
                        <div class="col-md-3 mb">
                            <label>Crop Catagory</label>
                            <select class="form-control" [(ngModel)]='cropCatagory'
                                (change)='getCropAccToCatagory()'>
                                <option value="" disabled selected>--Select--</option>
                                <option value="{{cat.cropCatagory}}" *ngFor='let cat of cropCatData'>
                                    {{cat.cropCatagory}}</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label for="">Crop</label>
                            <select class="form-control" [(ngModel)]='crop' (change)='getAllVarieties()'>
                                <option disabled selected>--Select--</option>
                                <option [ngValue]="crop" *ngFor='let crop of crops'>{{crop.Crop_Name}}</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label for="">Variety</label>
                            <select class="form-control" [(ngModel)]='variety'>
                                <option value="" selected disabled>--Select--</option>
                                <option [ngValue]="variety" *ngFor='let variety of varieties'>{{variety.Variety_Name}}</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label for="">Class</label>
                            <select class="form-control">
                                <option value="" disabled selected>--Select--</option>
                                <option value="">Certified</option>
                                <option value="">Foundation</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-primary searchBtn" (click)='getAppliedSaleIndents()'>Search</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <div class="row">
        <div class="col-lg-12 mb-6">

            <!-- Illustrations -->
            <div class="card shadow">

                <div class="card-body table-card mat-elevation-z8" *ngIf='showCard'>

                    <div style="text-align: center;" *ngIf='!appliedSaleIndentData'>
                        <p>No Data</p>
                    </div>
                    <div class=' table-responsive' *ngIf='appliedSaleIndentData'>
                        <table class="table table-striped table-bordered table-hover" *ngIf='showTable=="Seed"'>
                            <thead class="bg-light">
                                <tr class="border-1">
                                    <td>Sl.</td>
                                    <td>FPO</td>
                                    <td>Farmer</td>
                                    <td>Type</td>
                                    <td>Crop Catagory</td>
                                    <td>Crop</td>
                                    <td>Variety</td>
                                    <td>Class</td>
                                    <td>Quantity</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let data of appliedSaleIndentData; let i=index'>
                                    <td>{{i+1}}</td>
                                    <td>{{data.fpo.fpoName}}</td>
                                    <td *ngIf='data.farmer!="Self"'>{{data.farmer?data.farmer.farmerName:'NA'}}</td>
                                    <td *ngIf='data.farmer=="Self"'>{{data.farmer}}</td>
                                    <td>{{data.itemType}}</td>
                                    <td>{{data.cropCatagory}}</td>
                                    <td>{{data.crop.Crop_Name}}</td>
                                    <td>{{data.variety.Variety_Name}}</td>
                                    <td>{{data.class?data.class:'NA'}}</td>
                                    <td>{{data.quantity}}</td>
                                </tr>
                            </tbody>
                        </table>

                        <table class="table table-striped table-bordered table-hover"
                            *ngIf='showTable=="Fertilizer"||showTable=="Insecticides"'>
                            <thead class="bg-light">
                                <tr class="border-1">
                                    <td>Sl.</td>
                                    <td>FPO</td>
                                    <td>Farmer</td>
                                    <td>Item Type</td>
                                    <td>Technical Name</td>
                                    <td>Brand Name</td>
                                    <td>Quantity</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let data of appliedSaleIndentData; let i=index'>
                                    <td>{{i+1}}</td>
                                    <td>{{data.fpo.fpoName}}</td>
                                    <td *ngIf='data.farmer!="Self"'>{{data.farmer?data.farmer.farmerName:'NA'}}</td>
                                    <td *ngIf='data.farmer=="Self"'>{{data.farmer}}</td>
                                    <td>{{data.itemType}}</td>
                                    <td>{{data.technicalName}}</td>
                                    <td>{{data.brandName}}</td>
                                    <td>{{data.quantity}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>