<div class="container-fluid">
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item active"><strong style="color: blue;">Home</strong>/ Members Corner/Members Profile</li>
    </ol>

    <!--<div class="mybox">
        <div class="mybox-header">
            <span>
                <strong>
                    <label>Edit Members</label>
                </strong>
            </span>
        </div>
        <br>
        <div class="container row">
            <div class="col-md-12">
                <label>Enter the farmer Iâ€™d of the farmer:</label>
                <div class="row">
                    <div class="col-md-5">
                        <input type="text"  [(ngModel)]='farmerId' class="form-control">
                    </div>
                    <div class="col-md-3">
                        <button type="submit" (click)='searchFarmer()'
                            class="btn btn-success btn-primary">Search</button>
                    </div>
                </div>
            </div>

        </div>
         <div class="loader"> 
          <div ng-show="loadingData" class="spinner-border text-info"></div>
        </div> 
        <br>
        <br>
    </div>-->

    <!-- *ngIf='fetchedFarmerData.length !=0 && farmerDetailsTableShow' -->
    <div class="mybox">
        <div class="mybox-header">
            <span>
                <strong>
                    <label>Farmer Details</label>
                </strong>
            </span>
        </div>

        <div *ngIf='layout1Show'>
            <!-- ALL DATA TABLE START -->
            <!--  -->
            <div *ngIf='farmerDataForEdit.length==0' style="text-align: center;">
                <br>
                No record found
            </div>
            <!-- *ngIf='fetchedFarmerData.status !="no data"' -->
            <div *ngIf='farmerDataForEdit.length!=0'>
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover" id="orderListTable">
                        <caption></caption>
                        <thead>
                            <tr>
                                <th scope="col">Sl no</th>
                                <th scope="col">Name</th>
                                <th scope="col">Father/Husband name</th>
                                <th scope="col">Relation</th>
                                <th scope="col">CATAGORY</th>
                                <th scope="col">FARMER ID</th>
                                <th scope="col">Mobile Number</th>
                                <!-- <th scope="col">Email Id</th> -->
                                <th scope="col">District Id</th>
                                <th scope="col">Block Id</th>
                                <!-- <th scope="col">Grampanchyat</th> -->
                                <th scope="col">Village Id</th>
                                <th scope="col" style="text-align: center;">Action</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor='let farmerData of farmerDataForEdit;let i=index'>
                                <td>{{i+1}}</td>

                                <td>{{farmerData.farmerName }}</td>
                                <td>{{farmerData.fullFarmerData.VCHFATHERNAME}}</td>
                                <td>{{ farmerData.fullFarmerData.RELATION }} </td>
                                <td>{{farmerData.fullFarmerData.CATAGORY}}</td>
                               
                                <td>{{farmerData.farmerId}}</td>
                                <td>{{farmerData.fullFarmerData.VCHMOBILENO1}}</td>
                                <td>{{ farmerData.fullFarmerData.VCHDISTID }} </td>
                                <td>{{farmerData.fullFarmerData.VCHBLOCKID}}</td>
                                <td>{{ farmerData.fullFarmerData.VCHVILLAGEID }} </td>
                                <td style="width: 13%;">
                                    <div class="row editDltBtn">
                                        <div class="col-md-4">
                                            <button class="btn btn-outline-info round" data-toggle="modal"
                                                data-target="#viewDetails" (click)='patchDataToModal(i)'>
                                                <i class="fa fa-pencil" aria-hidden="true"></i></button>
                                        </div>
                                        <div class="col-md-6">
                                            <button class="btn btn-outline-info round" data-toggle="modal"
                                                (click)='dataForDelete(farmerData)' data-target="#delete"><i
                                                class="fa fa-trash-o" aria-hidden="true"></i></button>
                                        </div>
                                    </div>
                                </td>
                              
                            </tr>
                            <!-- <tr *ngFor='let farmerData of farmerDataForEdit;let i=index'>
                                <td>{{i+1 }}</td>
                                <td>{{farmerData.farmerName }}</td>
                                <td>{{farmerData.fullFarmerData.CATAGORY}}</td>
                                <td>{{ farmerData.fullFarmerData.RELATION }} </td>
                                <td>{{farmerData.fullFarmerData.CATAGORY}}</td>
                                <td>{{farmerData.farmerId}}</td>
                                <td>{{farmerData.fullFarmerData.VCHMOBILENO1}}</td>
                                <td>{{farmerData.address.district}}</td>
                                <td>{{farmerData.address.block}}</td>
                                <td>{{farmerData.address.gp}}</td>
                                <td>{{farmerData.address.village}}</td>
                                <td style="width: 13%;">
                                    <div class="row editDltBtn">
                                        <div class="col-md-4">
                                            <button class="btn btn-outline-info round" data-toggle="modal"
                                                data-target="#viewDetails" (click)='patchDataToModal(i)'>
                                                <i class="fa fa-pencil" aria-hidden="true"></i></button>
                                        </div>
                                        <div class="col-md-6">
                                            <button class="btn btn-outline-info round" data-toggle="modal"
                                                (click)='dataForDelete(farmerData)' data-target="#delete"><i
                                                class="fa fa-trash-o" aria-hidden="true"></i></button>
                                        </div>
                                    </div>
                                </td>
                            </tr> -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- <div class="card-body panel-collapse collapse otpDiv" id='collapse1'>
                <div class="otpSubDiv row">
                    <div class="col-md-7">
                        <p>Mobile Number:&nbsp;&nbsp;{{fetchedFarmerData.MobileNo}}</p>
                    </div>
                    <div class="col-md-4 sendOtpBtn">
                        <button class="btn btn-outline-info round" (click)='sendOtp()'>Send OTP</button>
                    </div>
                </div>
                <br><br>
                <div class="otpSubDiv row" *ngIf='otpSent'>
                    <div class="col-md-7">
                        <input type="text" class="otpInput" placeholder="Enter OTP">
                    </div>
                    <div class="col-md-4 sendOtpBtn">
                        <button class="btn btn-outline-info round" (click)='confirmOtp()'>Confirm</button>
                    </div>
                </div>
            </div> -->

        </div>
    </div>


</div>

<!-- ========================================================Edit Modal Start =====================================================-->

<div class="modal fade" id="viewDetails" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document1">
        <div class="modal-content">
            <div class="modal-header bg-info">
                <h3 class="modal-title" id="ModalLabel" style="color: white;">Update Details</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form [formGroup]="updateForm">
                <div class="modal-body">

                    <div class="row">
                        <!-- <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Name <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='farmerName'>
                        </div> -->
                        <!-- <div class="form-group col-md-8">
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='farmerName'>
                        </div> -->

                        <!-- <div class="form-group col-md-6">
                            <label for="inputEmail5"><b> Father/Husband Name <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail5" placeholder="Enter Your Schedule"
                                formControlName='fatherOrHusbandName'>
                        </div> -->
                        <!-- <div class="form-group col-md-8">
                            
                        </div> -->

                        <!-- <div class="form-group col-md-6">
                            <label for="inputEmail6"><b> Relation <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail6" placeholder="Enter Your Schedule"
                                formControlName='Relation'>
                        </div> -->
                        <!-- <div class="form-group col-md-8">
                            <input type="text" class="form-control" id="inputEmail6" placeholder="Enter Your Schedule"
                                formControlName='Relation'>
                        </div> -->

                        <!-- <div class="form-group col-md-6">
                            <label for="inputEmail7"><b> ID Type <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail7" placeholder="Enter Your Schedule"
                                formControlName='IdType'>
                        </div> -->
                        <!-- <div class="form-group col-md-8">
                            <input type="text" class="form-control" id="inputEmail7" placeholder="Enter Your Schedule"
                                formControlName='IdType'>
                        </div> -->

                        <!-- <div class="form-group col-md-6">
                            <label for="inputEmail8"><b> ID Num <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail8" placeholder="Enter Your Schedule"
                                formControlName='IdNum'>
                        </div> -->
                        <!-- <div class="form-group col-md-8">
                            <input type="text" class="form-control" id="inputEmail8" placeholder="Enter Your Schedule"
                                formControlName='IdNum'>
                        </div> -->

                        <div class="form-group col-md-6">
                            <label for="inputEmail9"><b> Mobile Number <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail9" placeholder="Enter Your Schedule"
                                formControlName='VCHMOBILENO1'>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Email Id <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='EmailId'>
                        </div>

                        <!-- <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> District<sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='dist'>
                        </div> -->
<!-- 
                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Block <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='block'>
                        </div> -->

                        <!-- <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Grampanchyat <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='gramPanchyat'>
                        </div> -->

                        <!-- <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Village <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='village'>
                        </div> -->

                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Bank Name <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='bankName'>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Bank Account No. <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='bankAccNo'>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> IFSC Code <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='VCHIFSCCODE'>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Alternate Mobile No. <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='altMobNo'>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Area on hold <sup>*</sup> </b> </label><br>
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='areaOnHold'>
                        </div>


                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><b> Crop <sup>*</sup> </b> </label><br>
                            <!-- <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"> -->
                            <select class="form-control" [(ngModel)]='crop' (change)='loadVariety()'
                                [ngModelOptions]="{standalone: true}" >
                                <option value="undefined" disabled selected>--Select--</option>
                                <option [ngValue]="crop" *ngFor='let crop of cropData'>{{crop.Crop_Name}}</option>
                            </select>
                            <!-- formControlName='crop' -->
                        </div>


                        <div class="form-group col-md-5">
                            <label for="inputEmail4"><b> Variety <sup>*</sup> </b> </label><br>
                            <!-- <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"> -->
                            <select class="form-control" [(ngModel)]='variety' [ngModelOptions]="{standalone: true}">
                                <option value='undefined' disabled>--Select--</option>
                                <option value="{{variety.Variety_Name}}" *ngFor='let variety of varietyData'>
                                    {{variety.Variety_Name}}</option>
                            </select>
                            <!-- formControlName='variety' -->
                        </div>

                        <div class="col-md-1 additionalFld">
                            <label for=""></label><br>
                            <div class="plus radius" style="--l:35px;--t:3px;--c2:green" (click)='cropVarietyArrayPush()'></div>
                        </div>



                          <div class="col-md-6 cropVarietyTable">
                <!-- Selected crop variety added table -->
                 <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover" id="orderListTable">
                        <caption></caption>
                        <thead>
                            <tr>
                                <th scope="col">Crop</th>
                                <th scope="col">Variety</th>
                                <th scope="col">Remove</th>
                            </tr>
                        </thead>
                        <tbody>
                            <p *ngIf='cropVarietySelected.length==0'>No Data</p>
                            <tr *ngFor='let data of cropVarietySelected'>
                                <td>{{data.crop}}</td>
                                <td>{{data.variety}}</td>
                                <td class="closeButton">
                                    <p (click)='removeCropFromArray(data.crop,data.variety)'><i class="fa fa-times-circle" aria-hidden="true"></i></p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div> 
            </div>


                        <!-- <div class="form-group col-md-8">
                            <input type="text" class="form-control" id="inputEmail4" placeholder="Enter Your Schedule"
                                formControlName='areaOnHold'>
                        </div> -->


                    </div>
                    
                    

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#update" 
                        >Update</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- ========================================================Edit Modal End =====================================================-->


<!-- ========================================================Delete Modal start =====================================================-->
<div class="modal fade" id="delete" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document1">
        <div class="modal-content">
            <div class="modal-header deleteheader bg-info">
                <h2 class="modal-title" id="ModalLabel" style="color: white;">Delete Farmer Data</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="deleteModal">
                        <p>Once member is deleted can't be revoked.</p>
                        <p><b>Are you sure to delete ?</b></p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary deleteBtn" data-dismiss="modal"
                    (click)="deleteFarmer()">Delete</button>
            </div>
        </div>
    </div>
</div>
<!-- ========================================================Delete Modal End =====================================================-->

<!-- ========================================================Update button Modal start =====================================================-->

<div class="modal fade" id="update" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document1">
        <div class="modal-content">
            <div class="modal-header deleteheader bg-info">
                <h3 class="modal-title" id="ModalLabel" style="color: white;">Update Farmer Data</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="deleteModal">
                        <p>Are you sure to update ?</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal"
                (click)="updateFarmer()">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- ========================================================Update button Modal end =====================================================-->
