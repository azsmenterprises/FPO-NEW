<div class="container-fluid">

   
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Submitted Demands</h1>
        
    </div>

    <div class="row">
        <div class="col-lg-12 mb-6">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Demand Details</h6>
                </div>
                <div class="card-body table-card mat-elevation-z8">
                    <form [formGroup]='demandListForm'>
                    <div class="row">
                        <div class="col-md-3">
                            <label for="">Product Type</label>
                            <select class="form-control" [(ngModel)]='selectedItemType ' formControlName="selectedItemType">
                                <option value="" disabled selected>--Select--</option>
                                <option value="Seed">Seed</option>
                                <option value="Fertilizer">Fertilizer</option>
                                <option value="Insecticides">Insecticides</option>
                                <option value="Custome Hiring">Custome Hiring</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="year">Year <b><sup>*</sup>:</b></label>
                            <select class="form-control" id="year" formControlName="year" >
                                <option value="" disabled>--Select--</option>
                                <option value="{{year}}">{{year}}</option>
                                <option value="{{year-1}}">{{year-1}}</option>
                            </select>
                        </div>
                       
                        <div class="col-md-3">
                            <label for="">Season</label>
                            <select class="form-control" [(ngModel)]='season' formControlName="season">
                                <option value="" disabled selected>--Select--</option>
                                <option value="Rabi">Rabi</option>
                                <option value="Kharif">Kharif</option>
                                <option value="Zaid">Zaid</option>
                                
                            </select>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-primary searchBtn" (click)='getAppliedSaleIndents()' [disabled]='demandListForm.invalid'>Search</button>
                        </div>
                    </div>
                </form>
                </div>
            </div>
        </div>


    </div>
    <div class="row">
        <div class="col-lg-12 mb-6">

      
            <div class="card shadow">

                <div class="card-body table-card mat-elevation-z8" *ngIf='showCard'>

                    <div style="text-align: center;" *ngIf='!appliedSaleIndentData'>
                        <p>No Data</p>
                    </div>
                    <div class=' table-responsive' *ngIf='appliedSaleIndentData'>
                        <table class="table table-striped table-bordered table-hover" *ngIf='showTable=="Seed"'>
                            <thead class="bg-light">
                                <tr class="border-1">
                                    <td>Sl.</td>
                                    <!-- <td>Farmer</td> -->
                                    <td>Product Type</td>
                                    <td>Crop/Commodities Catagory</td>
                                    <td>Crop/Commodities</td>
                                    <!-- <td>Variety</td> -->
                                    <!-- <td>Class</td> -->
                                    <td>Quantity</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let data of appliedSaleIndentData; let i=index'>
                                    <td>{{i+1}}</td>
                                    <!-- <td *ngIf='data.memtype!="Self"'>{{data.farmer?data.farmer.farmerName:'NA'}}</td>
                                    <td *ngIf='data.memtype=="Self"'>{{data.farmer}}</td> -->
                                    <td>{{data.itemType}}</td>
                                    <td>{{data.cropCatagory}}</td>
                                    <td>{{data.Crop_Name}}</td>
                                    <!-- <td>{{data.variety.Variety_Name}}</td> -->
                                    <!-- <td>{{data.class?data.class:'NA'}}</td> -->
                                    <td>{{data.count}}</td>
                                </tr>
                            </tbody>
                        </table>

                        <table class="table table-striped table-bordered table-hover"
                            *ngIf='showTable=="Fertilizer"||showTable=="Insecticides"'>
                            <thead class="bg-light">
                                <tr class="border-1">
                                    <td>Sl.</td>
                                    
                                    <!-- <td>Farmer</td> -->
                                    <td>Product Type</td>
                                    <td>Technical Name</td>
                                    <!-- <td>Brand Name</td> -->
                                    <td>Quantity</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let data of appliedSaleIndentData; let i=index'>
                                    <td>{{i+1}}</td>
<!--                                     
                                    <td *ngIf='data.memtype!="Self"'>{{data.farmer?data.farmer.farmerName:'NA'}}</td>
                                    <td *ngIf='data.memtype=="Self"'>{{data.farmer}}</td> -->
                                    <td>{{data.itemType}}</td>
                                    <td>{{data.technicalName}}</td>
                                    <!-- <td>{{data.brandName}}</td> -->
                                    <td>{{data.count}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
